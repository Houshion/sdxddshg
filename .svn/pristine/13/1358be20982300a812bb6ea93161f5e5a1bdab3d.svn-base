(function(t){function e(e){for(var o,r,u=e[0],c=e[1],s=e[2],l=0,f=[];l<u.length;l++)r=u[l],a[r]&&f.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function u(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"abcfe016"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"3476ac00"}[t]+".css",a=c.p+o,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===o||l===a))return e()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===o||l===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.request=o,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){r[t]=0}));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise(function(e,n){o=a[t]=[e,n]});e.push(o[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(t),s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"199c":function(t,e){(function(){document.addEventListener("DOMContentLoaded",function(){var t=document.documentElement,e=t.clientWidth;t.style.fontSize=e/7.5+"px",e>1024&&(t.style.fontSize="160px")},!1)})()},"23be":function(t,e,n){"use strict";var o=n("199c"),r=n.n(o);e["default"]=r.a},"2c2f":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},"3dfd":function(t,e,n){"use strict";var o=n("2c2f"),r=n("23be"),a=(n("7c55"),n("2877")),i=Object(a["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},"56d7":function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"userInfo",function(){return V}),n.d(o,"loginStatus",function(){return G}),n.d(o,"token",function(){return Y});var r={};n.r(r),n.d(r,"loginWechatAuth",function(){return Z}),n.d(r,"setLoginStatus",function(){return tt}),n.d(r,"setUserInfo",function(){return et});n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("3dfd"),u=n("8c4f"),c=[{path:"/",component:function(){return n.e("about").then(n.bind(null,"7af3"))}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/index",name:"index",meta:{title:"附近网点"},component:function(){return n.e("about").then(n.bind(null,"7af3"))}},{path:"/scan",name:"scan",meta:{title:"扫码开门"},component:function(){return n.e("about").then(n.bind(null,"4989"))}},{path:"/result",name:"result",meta:{title:"开门结果"},component:function(){return n.e("about").then(n.bind(null,"aee9"))}},{path:"/fault",name:"fault",meta:{title:"报故障"},component:function(){return n.e("about").then(n.bind(null,"4385"))}},{path:"/my",name:"my",component:function(){return n.e("about").then(n.bind(null,"141f"))}},{path:"/phone",name:"phone",meta:{title:"绑定手机"},component:function(){return n.e("about").then(n.bind(null,"473e"))}},{path:"/coupon",name:"coupon",meta:{title:"优惠券"},component:function(){return n.e("about").then(n.bind(null,"9379"))}},{path:"/afterSale",name:"afterSale",meta:{title:"售后申诉"},component:function(){return n.e("about").then(n.bind(null,"7026"))}},{path:"/orderDetail",name:"orderDetail",meta:{title:"订单详情"},component:function(){return n.e("about").then(n.bind(null,"f2cf"))}},{path:"/cooperation",name:"cooperation",meta:{title:"合作加盟"},component:function(){return n.e("about").then(n.bind(null,"13aa"))}},{path:"/complaintResults",name:"complaintResults",meta:{title:"申诉结果"},component:function(){return n.e("about").then(n.bind(null,"4ea1"))}}];a["a"].use(u["a"]);var s=new u["a"]({routes:c,mode:"history"});s.beforeEach(function(t,e,n){var o=null;t.meta.title&&(o=t.meta.title,document.title=o),n()});var l=s,f=n("52c1");a["a"].use(f["a"]);var d=new f["a"].Store({state:{},mutations:{},actions:{}}),p=n("9483");Object(p["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var h=n("03d8"),m=(n("725e"),n("3f6b"),n("795b")),g=n.n(m),b=(n("f559"),n("7f43")),v=n.n(b),w=n("4328"),y=n.n(w),S="http://sdxddshg.app.xiaozhuschool.com/wxsite";function _(t){return t.startsWith("http")||t.startsWith("https")?t:"".concat(S).concat(t)}var k={get:function(t,e){return new g.a(function(n,o){var r=_(t);v.a.get(r,{params:e}).then(function(t,e){t?n(t):o(e)})})},post:function(t,e){return new g.a(function(n,o){var r=_(t);v()({url:r,method:"post",data:y.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t,e){t?n(t):o(e)})})}},x=k,j=(n("28a5"),n("6b54"),n("d225")),O=n("b0b4"),I=n("4328"),E=["snsapi_base","snsapi_userinfo"],T=function(){function t(){Object(j["a"])(this,t),this.appid=null,this.redirect_uri=null,this.scope=E[1],this._code=null,this._redirect_uri=null}return Object(O["a"])(t,[{key:"install",value:function(t,e){var n=this;this.setAppId(e.appid),t.mixin({created:function(){this.$wechatAuth=n}})}},{key:"setAppId",value:function(t){this.appid=t}},{key:"returnFromWechat",value:function(t){var e=I.parse(t.split("?")[1]);if(null===this.state)throw"You did't set state";if(e.state!==this.state)throw this.state=null,"Wrong state: ".concat(e.state);this.state=null,this._code=e.code}},{key:"redirect_uri",set:function(t){this._redirect_uri=encodeURIComponent(t)},get:function(){return this._redirect_uri}},{key:"state",get:function(){return localStorage.getItem("wechat_auth:state")},set:function(t){localStorage.setItem("wechat_auth:state",t)}},{key:"authUrl",get:function(){if(null===this.appid)throw"appid不能为空";if(null===this.redirect_uri)throw"redirect uri不能为空";return this.state=t.makeState(),"https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(this.appid,"&redirect_uri=").concat(this.redirect_uri,"&response_type=code&scope=").concat(this.scope,"&state=").concat(this.state,"#wechat_redirect")}},{key:"code",get:function(){if(null===this._code)throw"Not get the code from wechat server!";var t=this._code;return this._code=null,t}}],[{key:"makeState",value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}]),t}(),A=new T;"undefined"!==typeof window&&window.Vue&&window.Vue.use(T);var L=A,N=n("8c92"),P=n.n(N),C="Login-Status",U="Access-Token",W="User-Info";function M(){return P.a.get(C)||0}function z(t){return P.a.set(C,t,{expires:7}),t}function q(){return window.localStorage.getItem(U)}function F(){return window.localStorage.removeItem(U),""}function $(){return window.localStorage.getItem("UserInfoKey")}function B(t){return window.localStorage.setItem(W),t}function R(){return window.localStorage.removeItem(W),{}}var D,J={loginStatus:M(),token:q(),userInfo:$()},K=J,V=function(t){return t.userInfo},G=function(t){return t.loginStatus},Y=function(t){return t.token},H="SET_USERINFO",Q="SET_LOGIN_STATUS",X="SET_TOKEN",Z=function(t,e){var n=this,o=(t.commit,t.state,{code:e});return new g.a(function(t,e){n.$ajax.get("http://hzchuangd.app.xiaozhuschool.com/api/public/wx_oauth",{params:o}).then(function(n,o){n?t(n):e(o)})})},tt=function(t,e){var n=t.commit;t.state;0!=e&&1!=e||(F(),R()),n(Q,z(e))},et=function(t,e){var n=t.commit;t.state;n(H,B(e))},nt=n("bd86"),ot=(D={},Object(nt["a"])(D,H,function(t,e){t.userInfo=e}),Object(nt["a"])(D,Q,function(t,e){t.loginStatus=e}),Object(nt["a"])(D,X,function(t,e){t.token=e}),D),rt=ot,at=n("5518"),it=n.n(at);a["a"].use(f["a"]);var ut=!1,ct=new f["a"].Store({state:K,mutations:rt,getters:o,actions:r,plugins:ut?[it()()]:[]}),st=ct,lt=n("4328");l.beforeEach(function(t,e,n){if(console.log(st.state.loginStatus),0==st.state.loginStatus){var o,r=window.location.href,a=lt.parse(r.split("?")[1]);a.code&&a.state?(delete a.code,delete a.state,o="".concat(r.split("?")[0],"?").concat(lt.stringify(a))):o=r,L.redirect_uri=o,st.dispatch("setLoginStatus",1),window.location.href=L.authUrl}else if(1==st.state.loginStatus){try{L.returnFromWechat(t.fullPath)}catch(i){st.dispatch("setLoginStatus",0),n()}st.dispatch("loginWechatAuth",L.code).then(function(t){1==t.status?st.dispatch("setLoginStatus",2):st.dispatch("setLoginStatus",0),n()}).catch(function(t){n()})}else n()}),a["a"].use(L,{appid:"wxca3e97c51546fc3e"}),a["a"].prototype.$ajax=x,a["a"].use(h["b"]),a["a"].use(h["a"]),a["a"].config.productionTip=!1,new a["a"]({router:l,store:d,render:function(t){return t(i["default"])}}).$mount("#app")},"5c48":function(t,e,n){},"7c55":function(t,e,n){"use strict";var o=n("5c48"),r=n.n(o);r.a}});
//# sourceMappingURL=app.f216c1bd.js.map